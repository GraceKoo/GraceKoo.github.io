<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">






















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>



  <meta property="og:type" content="website">
<meta property="og:title" content="Grace Koo&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Grace Koo&#39;s Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Grace Koo&#39;s Blog">





  
  
  <link rel="canonical" href="http://yoursite.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Grace Koo's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Grace Koo's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/18/Convolutional-Neural-Network/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Grace Koo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Grace Koo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/03/18/Convolutional-Neural-Network/" class="post-title-link" itemprop="url">CNN</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-03-18 20:50:00 / Modified: 21:06:50" itemprop="dateCreated datePublished" datetime="2018-03-18T20:50:00+08:00">2018-03-18</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CNN/" itemprop="url" rel="index"><span itemprop="name">CNN</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>目录</p>
<p>[TOC]</p>
<h1 id="一、Convolutional-Neural-Networks"><a href="#一、Convolutional-Neural-Networks" class="headerlink" title="一、Convolutional Neural Networks"></a>一、Convolutional Neural Networks</h1><h2 id="1-1-Edge-Detection"><a href="#1-1-Edge-Detection" class="headerlink" title="1.1 Edge Detection"></a>1.1 Edge Detection</h2><p>卷积运算是卷积神经网络最基本的组成成分，使用边缘检测作为入门样例。下面介绍卷积计算是如何实现的。</p>
<p>使用一个3✖️3的<strong>过滤器(核)</strong>与原始矩阵进行元素相乘，再相加，最后和的结果为<strong>卷积运算</strong>后的第一个元素值，然后依次计算，下面例子中，做一次卷积运算后结果为一个4✖️4的矩阵。</p>
<p>这种卷积运算可以理解成为，<strong>垂直边缘检测器。</strong></p>
<p><img src="../images/picturesof-4/屏幕快照 2018-02-09 下午12.25.09.png" alt="屏幕快照 2018-02-09 下午12.25.09"></p>
<p>在不同的编程环境中可以使用不同的函数来实现卷积运算。</p>
<p><img src="../images/picturesof-4/屏幕快照 2018-02-09 下午12.38.47.png" alt="屏幕快照 2018-02-09 下午12.38.47"></p>
<p>那么为什么这个可以用作垂直检测呢？来看下面的例子。</p>
<p>这是一个简单的6✖️6的图像，图像左边一半是10，右边一半是0，如果你把它看成一个图像，那么是左白右灰的，10代表比较亮的颜色，0代表比较黑的颜色。图片里，有一个特别明显的垂直边缘在图像中间，这条直线是从黑到白的过度线。<strong>所以当你使用一个3✖️3的过滤器进行卷积运算的时候，这个过滤器可视化成下面这个样子</strong>，在左边有明亮的像素，然后有一个过滤段0在中间，右边是黑色的。使用过滤器进行卷积元算，得到的是右边的矩阵，可视化样子如下，在中间有段亮一点的区域，对应检查到这个6✖️6的图像中间的垂直边缘，这里的维数似乎有点不正确，检测到的边缘太粗了，因为这个例子中的图片太小了，如果你用一个1000✖️1000的图像，而不是6✖️6的图像，你会发现，它可以很好的检测出图像中的垂直边缘。在这个例子中，在输出图像中间区域的亮出，表示在图像中间，有一个特别明显的垂直边缘。</p>
<p>从垂直边缘检测中可以得到的启发是，因为我们使用的是3✖️3的矩阵，所以垂直边缘是一个3✖️3的区域，左边是明亮的像素，中间的的并不需要考虑，右边是深色像素。在这个6✖️6图像中，明亮的像素在左边，深色的像素在右边，这样的话就会被视为一个垂直边缘。卷积运算提供了一个方便的方法，来发现图像中的垂直边缘。</p>
<p><img src="../images/picturesof-4/屏幕快照 2018-02-09 下午1.05.04.png" alt="屏幕快照 2018-02-09 下午1.05.04"></p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2018/03/18/Convolutional-Neural-Network/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/28/Numpy-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Grace Koo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Grace Koo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/09/28/Numpy-note/" class="post-title-link" itemprop="url">Numpy基础</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-09-28 11:09:26 / Modified: 11:10:26" itemprop="dateCreated datePublished" datetime="2017-09-28T11:09:26+08:00">2017-09-28</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Machine-Learning/" itemprop="url" rel="index"><span itemprop="name">Machine Learning</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Numpy</p>
<p>[TOC]</p>
<p>Numpy是Python中用于科学计算的核心库。它提供了高性能的多维数组对象，以及相关工具</p>
<h1 id="数组Arrays"><a href="#数组Arrays" class="headerlink" title="数组Arrays"></a>数组Arrays</h1><p>numpy数组是一个由不同数值组成的网格。网格中的数据都是<strong>同一种数据类型</strong>，可以通过非负整型数的元组来访问。</p>
<p>我们可以从列表创建数组，然后利用方括号访问其中的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])   <span class="comment">#创建一个一维数组</span></span><br><span class="line">print(type(a))</span><br><span class="line">print(a[<span class="number">0</span>],a[<span class="number">1</span>],a[<span class="number">2</span>])</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">5</span></span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">numpy</span>.<span class="title">ndarray</span>'&gt;</span></span><br><span class="line"><span class="class">1 2 3</span></span><br><span class="line"><span class="class">[5 2 3]</span></span><br></pre></td></tr></table></figure>
<h1 id="函数shape-用法"><a href="#函数shape-用法" class="headerlink" title="函数shape()用法"></a>函数shape()用法</h1><p>shape函数功能室查看矩阵或者数组的<strong>维度</strong>。</p>
<p>例如：建立一个3✖3的单位矩阵e，e.shape()为（3，3），<strong>表示三行三列</strong>，第一维的长度是3，第二维的长度也是3。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">e = np.eye(<span class="number">3</span>)</span><br><span class="line">print(e)</span><br><span class="line">print(e.shape)</span><br><span class="line">print(e[<span class="number">0</span>,<span class="number">0</span>],e[<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">[[ <span class="number">1.</span>  <span class="number">0.</span>  <span class="number">0.</span>]</span><br><span class="line"> [ <span class="number">0.</span>  <span class="number">1.</span>  <span class="number">0.</span>]</span><br><span class="line"> [ <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">1.</span>]]</span><br><span class="line">(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="number">1.0</span> <span class="number">1.0</span></span><br></pre></td></tr></table></figure>
<p>建立一个一维矩阵b，b.shape为矩阵的长度。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">print(b.shape)</span><br><span class="line"></span><br><span class="line">(<span class="number">4</span>,)</span><br></pre></td></tr></table></figure>
<p>建立一个4✖2的矩阵c，c.shape[1]为第一维的长度，c.shape[0]为第二维的长度，c.shape[1]为第一维的长度。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">c = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">5</span>],[<span class="number">9</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">0</span>]])</span><br><span class="line">print(c.shape[<span class="number">0</span>])</span><br><span class="line">print(c.shape[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>一个单独的数值，返回值为空。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.shape(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">()</span><br></pre></td></tr></table></figure>
<h1 id="其他创建数组的方法"><a href="#其他创建数组的方法" class="headerlink" title="其他创建数组的方法"></a>其他创建数组的方法</h1><p>Numpy还提供了很多其他创建数组的方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.zeros((<span class="number">2</span>,<span class="number">3</span>))        <span class="comment">#创建一个2✖️3全0数组</span></span><br><span class="line">print(a)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">b = np.ones((<span class="number">1</span>,<span class="number">2</span>))         <span class="comment">#创建一个1✖️2全1数组</span></span><br><span class="line">print(b)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">c = np.full((<span class="number">4</span>,<span class="number">2</span>),<span class="number">7</span>)       <span class="comment">#创建一个4✖️2的全7数组</span></span><br><span class="line">print(c)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">d = np.eye(<span class="number">2</span>)              <span class="comment">#创建一个二维单位矩阵</span></span><br><span class="line">print(d)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">e = np.random.random((<span class="number">2</span>,<span class="number">2</span>))<span class="comment">#创建一个2✖️2由随机数字组成的数组</span></span><br><span class="line">print(e)</span><br><span class="line"></span><br><span class="line">[[ <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">0.</span>]</span><br><span class="line"> [ <span class="number">0.</span>  <span class="number">0.</span>  <span class="number">0.</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[[ <span class="number">1.</span>  <span class="number">1.</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[[<span class="number">7</span> <span class="number">7</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">7</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">7</span>]</span><br><span class="line"> [<span class="number">7</span> <span class="number">7</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[[ <span class="number">1.</span>  <span class="number">0.</span>]</span><br><span class="line"> [ <span class="number">0.</span>  <span class="number">1.</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[[ <span class="number">0.82662589</span>  <span class="number">0.93604335</span>]</span><br><span class="line"> [ <span class="number">0.20764393</span>  <span class="number">0.53211415</span>]]</span><br></pre></td></tr></table></figure>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/09/28/Numpy-note/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/24/DataView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Grace Koo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Grace Koo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/09/24/DataView/" class="post-title-link" itemprop="url">数据可视化基础</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-09-24 20:50:00 / Modified: 22:29:06" itemprop="dateCreated datePublished" datetime="2017-09-24T20:50:00+08:00">2017-09-24</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Python/DataView/" itemprop="url" rel="index"><span itemprop="name">DataView</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>数据可视化</p>
<p>[TOC]</p>
<h1 id="一-生成数据"><a href="#一-生成数据" class="headerlink" title="一.生成数据"></a>一.生成数据</h1><h2 id="1-1-安装matplotlib"><a href="#1-1-安装matplotlib" class="headerlink" title="1.1 安装matplotlib"></a>1.1 安装matplotlib</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install --user matplotlib</span><br></pre></td></tr></table></figure>
<h3 id="1-1-1-测试matplotlib"><a href="#1-1-1-测试matplotlib" class="headerlink" title="1.1.1 测试matplotlib"></a>1.1.1 测试matplotlib</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python3</span><br><span class="line">&gt;&gt; <span class="keyword">import</span> matplotlib</span><br></pre></td></tr></table></figure>
<p>如果没有出现任何错误消息，就说明你系统安装了matplotlib。</p>
<h3 id="1-1-2-matplotlib画廊"><a href="#1-1-2-matplotlib画廊" class="headerlink" title="1.1.2 matplotlib画廊"></a>1.1.2 matplotlib画廊</h3><p>要查看使用matplotlib可制作的各种图表，请访问<a href="http://matplotlib.org/的示例画廊。单击画廊中的图表，就可查看用于生成图表的代码。" target="_blank" rel="noopener">http://matplotlib.org/的示例画廊。单击画廊中的图表，就可查看用于生成图表的代码。</a></p>
<h2 id="1-2-绘制简单的折线图plot"><a href="#1-2-绘制简单的折线图plot" class="headerlink" title="1.2 绘制简单的折线图plot()"></a>1.2 绘制简单的折线图plot()</h2><p>我们将使用平方数序列1、4、9、16和25来绘制这个图标。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">squares = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>]</span><br><span class="line">plt.plot(squares)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-19.2.15.10.png" alt="2017-09-19.2.15.10"></p>
<p>首先，导入了模块pyplot，并给它指定了别名plt。模块pyplot包含很多用于生成图标的函数。</p>
<p>我们创建了一个列表，在其中存储了前述平方数，再将这个列表传递给函数plot()。</p>
<p>plt.show()打开matplotlib查看器，并显示绘制的图形。</p>
<h3 id="1-2-1-修改标签文字和线条粗细"><a href="#1-2-1-修改标签文字和线条粗细" class="headerlink" title="1.2.1 修改标签文字和线条粗细"></a>1.2.1 修改标签文字和线条粗细</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">squares = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>]</span><br><span class="line">plt.plot(squares,linewidth=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图表标题，并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">"Square Numbers"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">"Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Square of Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,labelsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>tick_params()设置刻度的样式，其中指定的实参将影响x轴和y轴上的刻度（axis=’both’），并将刻度标记的字号设置为14。</p>
<p><img src="../images/2017-09-19.3.16.14.png" alt="017-09-19.3.16.14"></p>
<h3 id="1-2-2-校正图形"><a href="#1-2-2-校正图形" class="headerlink" title="1.2.2 校正图形"></a>1.2.2 校正图形</h3><p>我们发现没有正确的绘制数据：折线图的终点指出4.0的平方为25！下面来修复这个问题。</p>
<p>当你向plot()提供一系列数字时，它假设第一个数据点对应的x坐标值为0，但我们的第一个点对应的x值为1。为改变这种默认行为，我们可以给plot()同时提供输入值和输出值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">input_values = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">squares = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>]</span><br><span class="line">plt.plot(input_values,squares,linewidth=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图表标题，并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">"Square Numbers"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">"Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Square of Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,labelsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-19.3.30.45.png" alt="屏幕快照 2017-09-19 下午3.30.45"></p>
<h3 id="1-2-3-使用scatter-绘制散点图"><a href="#1-2-3-使用scatter-绘制散点图" class="headerlink" title="1.2.3 使用scatter()绘制散点图"></a>1.2.3 使用scatter()绘制散点图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.scatter(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-19.3.56.57.png" alt="屏幕快照 2017-09-19 下午3.56.57"></p>
<p>向函数scatter()传递一对x和y坐标，它将在指定位置绘制一个点。</p>
<p>优化此图形：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.scatter(<span class="number">2</span>,<span class="number">4</span>,s=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">"Square Numbers"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">"Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Square of Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,which=<span class="string">'major'</span>,labelsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>Scatter()中的实参s设置了绘制图形时使用的点的尺寸。</p>
<p><img src="../images/2017-09-19.4.05.05.png" alt="屏幕快照 2017-09-19 下午4.05.05"></p>
<h3 id="1-2-4-使用scatter-绘制一系列点"><a href="#1-2-4-使用scatter-绘制一系列点" class="headerlink" title="1.2.4 使用scatter()绘制一系列点"></a>1.2.4 使用scatter()绘制一系列点</h3><p>要绘制一系列点，可向scatter()传递两个分别包含x和y的列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x_values = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">y_values = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>]</span><br><span class="line"></span><br><span class="line">plt.scatter(x_values,y_values,s=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">"Square Numbers"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">"Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Square of Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,which=<span class="string">'major'</span>,labelsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>将这些列表传递给scatter()时，matplotlib<strong>依次从每个列表中读取一个值来绘制一个点。</strong></p>
<p><img src="../images/2017-09-19.4.17.41.png" alt="屏幕快照 2017-09-19 下午4.17.41"></p>
<h3 id="1-2-5-自动计算数据"><a href="#1-2-5-自动计算数据" class="headerlink" title="1.2.5 自动计算数据"></a>1.2.5 自动计算数据</h3><p>手工计算列表要包含的值可能效率低下，需要绘制的点很多时尤其如此。可以不必手工计算包含点坐标的列表，而让Python循环来替我们完成这种事。下面绘制了1000个点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x_values = list(range(<span class="number">1</span>,<span class="number">1001</span>))</span><br><span class="line">y_values = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> x_values]</span><br><span class="line"></span><br><span class="line">plt.scatter(x_values,y_values,s=<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">"Square Numbers"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">"Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Square of Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,which=<span class="string">'major'</span>,labelsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置每个坐标轴的取值范围</span></span><br><span class="line">plt.axis([<span class="number">0</span>,<span class="number">1100</span>,<span class="number">0</span>,<span class="number">1100000</span>])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>函数axis()要求提供四个值：x和y坐标轴的最小最大值。</p>
<p><img src="../images/2017-09-19.4.38.12.png" alt="屏幕快照 2017-09-19 下午4.38.12"></p>
<h3 id="1-2-6-删除数据点的轮廓"><a href="#1-2-6-删除数据点的轮廓" class="headerlink" title="1.2.6 删除数据点的轮廓"></a>1.2.6 删除数据点的轮廓</h3><p>matplotlib允许你给散点图中的各个点指定颜色。默认为蓝色点和黑色轮廓，在散点图不含数据不多时效果很好。但绘制很多点时，黑色轮廓可能会粘连在一起。删除轮廓,传递实参edgecolor。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x_values,y_values,edgecolor=<span class="string">'none'</span>,s=<span class="number">40</span>)</span><br></pre></td></tr></table></figure>
<h3 id="1-2-7-自定义颜色"><a href="#1-2-7-自定义颜色" class="headerlink" title="1.2.7 自定义颜色"></a>1.2.7 自定义颜色</h3><p>修改数据点的颜色，向scatter()传递参数c，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x_values,y_values,c=<span class="string">'red'</span>,edgecolor=<span class="string">'none'</span>,s=<span class="number">40</span>)</span><br></pre></td></tr></table></figure>
<p>你还可以使用RGB颜色模式自定义颜色。要指定自定义颜色，可传递参数c，并将其设置为一个元组，其中包含三个0～1之间的小数值，它们分别表示红色、绿色和蓝色分量。例如，下面代码将创建一个由淡蓝色点组成的散点图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x_values,y_values,c=(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.8</span>),edgecolor=<span class="string">'none'</span>,s=<span class="number">40</span>)</span><br></pre></td></tr></table></figure>
<p>值越接近0，指定的颜色越深，越接近1，指定的颜色越浅。</p>
<h3 id="1-2-8-使用颜色映射"><a href="#1-2-8-使用颜色映射" class="headerlink" title="1.2.8 使用颜色映射"></a>1.2.8 使用颜色映射</h3><p>颜色映射（colormap）是一系列颜色，它们从起始颜色渐变到结束颜色。在可视化中，颜色映射用于突出数据的规律，例如，你使用颜色深的表示数值大的，浅的表示小的。</p>
<p>模块pyplot内置了一组颜色映射。要使用这些颜色映射，你需要告诉pyplot如何设置数据集中每个点的颜色。下面演示如何根据每个点的y值来设置颜色：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x_values = list(range(<span class="number">1</span>,<span class="number">1001</span>))</span><br><span class="line">y_values = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> x_values]</span><br><span class="line"></span><br><span class="line"><span class="comment">#change</span></span><br><span class="line">plt.scatter(x_values,y_values,c=y_values,cmap=plt.cm.Blues,</span><br><span class="line">           edgecolor=<span class="string">'none'</span>,s=<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">"Square Numbers"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">"Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">"Square of Value"</span>,fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,which=<span class="string">'major'</span>,labelsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置每个坐标轴的取值范围</span></span><br><span class="line">plt.axis([<span class="number">0</span>,<span class="number">1100</span>,<span class="number">0</span>,<span class="number">1100000</span>])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>我们将参数c设置成了一个y值列表，并使用<strong>参数cmap告诉pyplot使用哪个颜色映射。</strong>将较小的点设置成浅蓝色，较深的点设置成深蓝色。</p>
<p><img src="../images/2017-09-19.4.58.54.png" alt="屏幕快照 2017-09-19 下午4.58.54"></p>
<h3 id="1-2-9-自动保存图表"><a href="#1-2-9-自动保存图表" class="headerlink" title="1.2.9  自动保存图表"></a>1.2.9  自动保存图表</h3><p>让程序自动将图表保存到文件中，可将对plt.show()的调用替换为对plt.savefig()的调用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig(<span class="string">'squares_plot.png'</span>,bbox_inches=<span class="string">'tight'</span>)</span><br></pre></td></tr></table></figure>
<p>第一个实参指定要以什么样的文件名保存图表，这个文件存储到当前程序所在的目录中。第二个实参指定将图表多余的空白区域裁剪掉。如果要保留图表周围空白的区域，可省略这个实参。</p>
<h2 id="1-3-随机漫步"><a href="#1-3-随机漫步" class="headerlink" title="1.3 随机漫步"></a>1.3 随机漫步</h2><p>我们使用python来生成随机漫步数据，再使用matplotlib以引人瞩目的方式将这些数据呈现出来。</p>
<p><strong>随机漫步数据</strong>是这样行走得到的路径：每次行走都是完全随机的，没有明确的方向，结果是由一系列随机决策决定的。在自然界、物理学、生物学、化学和经济领域，随机漫步都有其实际用途。例如，漂浮在水面上的花粉因不断受到水分子的挤压而在水面上移动。花粉在水面上的运动轨迹犹如随机漫步。</p>
<h3 id="1-3-1-创建RandomWalk-类"><a href="#1-3-1-创建RandomWalk-类" class="headerlink" title="1.3.1 创建RandomWalk()类"></a>1.3.1 创建RandomWalk()类</h3><p>为模拟随机漫步，我们将创建一个名为RandomWalk的类，它随机的选择前进方向。</p>
<p>这个类需要三个属性，其中一个是存储随机漫步的次数的变量，其他两个是列表，分别存储随机漫步经过的每个点的x和y坐标。包含两个方法：_<em>init()</em>,fill_walk(),其中后者计算随机漫步经过的所有点。</p>
<p>下面是init方法。（random_walk.py）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomWalk</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""一个生成随机漫步数据的类"""</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,num_points=<span class="number">5000</span>)</span>:</span></span><br><span class="line">        <span class="string">"""初始化随机漫步的属性"""</span></span><br><span class="line">        self.num_points = num_points</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#所有随机漫步都始于（0，0）</span></span><br><span class="line">        self.x_values = [<span class="number">0</span>]</span><br><span class="line">        self.y_values = [<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<p>我们将所有的可能都存储在一个列表中，并在每次做决策时都使用choice()来决定使用哪种选择。我们将随机漫步包含的默认点数设置为5000。</p>
<h3 id="1-3-2-选择方向"><a href="#1-3-2-选择方向" class="headerlink" title="1.3.2 选择方向"></a>1.3.2 选择方向</h3><p>使用fill_walk()来生成漫步包含的点，并决定每次漫步的方向。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fill_walk</span><span class="params">(self)</span>:</span></span><br><span class="line">       <span class="string">"""计算随机漫步包含的所有的点"""</span></span><br><span class="line">       </span><br><span class="line">       <span class="comment">#不断漫步，直到列表达到指定的长度</span></span><br><span class="line">       <span class="keyword">while</span> len(self.x_values) &lt; self.num_points:</span><br><span class="line">            <span class="comment">#决定前进的方向以及沿这个方向前进的距离</span></span><br><span class="line">               x_direction = choice([<span class="number">-1</span>,<span class="number">1</span>])</span><br><span class="line">               x_distance = choice([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">               x_step = x_direction * x_distance</span><br><span class="line">               </span><br><span class="line">               y_direction = choice([<span class="number">-1</span>,<span class="number">1</span>])</span><br><span class="line">               y_distance = choice([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">               y_step = y_direction * y_distance</span><br><span class="line">               </span><br><span class="line">               <span class="comment">#拒绝原地踏步</span></span><br><span class="line">               <span class="keyword">if</span> x_step == <span class="number">0</span> <span class="keyword">and</span> y_step == <span class="number">0</span>:</span><br><span class="line">                   <span class="keyword">continue</span></span><br><span class="line">                   </span><br><span class="line">               <span class="comment">#计算下一个点的x和y值</span></span><br><span class="line">               next_x = self.x_values[<span class="number">-1</span>] + x_step</span><br><span class="line">               next_y = self.Y_values[<span class="number">-1</span>] + y_step</span><br><span class="line">               </span><br><span class="line">               self.x_values.append(next_x)</span><br><span class="line">               self.y_values.append(next_y)</span><br></pre></td></tr></table></figure>
<p> 方法choice([-1,1])将在-1，1表示在两者之间随机选择一个数。choice([0,1,2,3,4])是在这5个数中间随机选择一个数字，之所以包含0是因为可能点要沿垂直的方向行动。x_step与y_step是最终的步长，x_values[-1]，Y_values[-1]取到列表的最后一个元素，它们也用来保存最新行动的点，即append()方法。</p>
<h3 id="1-3-3-绘制随机漫步图"><a href="#1-3-3-绘制随机漫步图" class="headerlink" title="1.3.3 绘制随机漫步图"></a>1.3.3 绘制随机漫步图</h3><p>（rw_visual.py）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> 　random_walk <span class="keyword">import</span> RandomWalk</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个RandomWalk实例，并将其包含的点都绘制出来</span></span><br><span class="line">rw = RandomWalk()</span><br><span class="line">rw.fill_walk()</span><br><span class="line">plt.scatter(rw.x_values,rw.y_values,s=<span class="number">15</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>创建RandomWalk的实例rw，再调用fill_walk()。然后将实例中产生的x_values和y_values赋值给scatter()函数。</p>
<p>下图是包含5000个点的随机漫步图。</p>
<p><img src="../images/2017-09-21.10.29.43.png" alt="屏幕快照 2017-09-21 上午10.29.43"></p>
<h3 id="1-3-4-设置随机漫步图样式"><a href="#1-3-4-设置随机漫步图样式" class="headerlink" title="1.3.4 设置随机漫步图样式"></a>1.3.4 设置随机漫步图样式</h3><p>我们将定制图表，以突出每次漫步的重要特征，并让分散注意力的元素不那么显眼。最终的结果是简单的可视化表示，清楚地指出了每次漫步经过的路径。</p>
<h3 id="1-3-5-给点着色"><a href="#1-3-5-给点着色" class="headerlink" title="1.3.5 给点着色"></a>1.3.5 给点着色</h3><p>我们使用颜色映射来指出漫步中各点的先后顺序，并删除每个点的黑色轮廓。我们传递参数c，并将其设置为一个列表，其中包含各点的先后顺序。由于这些点是按照顺序绘制的，因此给参数c指定列表只需包含数字1～5000。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">point_numbers = list(range(rw.num_points))</span><br><span class="line">plt.scatter(rw.x_values,rw.y_values,c=point_numbers,cmap=plt.cm.Blues,edgecolor=<span class="string">'none'</span>,s=<span class="number">15</span>)</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-21.11.14.58.png" alt="屏幕快照 2017-09-21 上午11.14.58"></p>
<p>###1.3.6 重新绘制起点和终点</p>
<p>除了给随机漫步的各个点着色，以指出它们的先后顺序外，如果还能呈现随机漫步的起点和终点就更好了。为此，可在绘制随机漫步图后重新绘制起点和终点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#突出起点和终点</span></span><br><span class="line">plt.scatter(<span class="number">0</span>,<span class="number">0</span>,c=<span class="string">'green'</span>,edgecolors=<span class="string">'none'</span>,s=<span class="number">100</span>)</span><br><span class="line">plt.scatter(rw.x_values[<span class="number">-1</span>],rw.y_values[<span class="number">-1</span>],c=<span class="string">'red'</span>,edgecolors=<span class="string">'none'</span>,</span><br><span class="line">            s=<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-21.12.33.14.png" alt="屏幕快照 2017-09-21 下午12.33.14"></p>
<p>###1.3.7 隐藏坐标轴</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#隐藏坐标轴</span></span><br><span class="line">plt.axes().get_xaxis().set_visible(<span class="keyword">False</span>)</span><br><span class="line">plt.axes().get_yaxis().set_visible(<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<p>###1.3.8 增加点数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rw = RandomWalk(<span class="number">50000</span>)</span><br></pre></td></tr></table></figure>
<p>###1.3.9 调整屏幕以适应屏幕</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置绘图窗口的尺寸</span></span><br><span class="line">plt.figure(dpi=<span class="number">227</span>,figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br></pre></td></tr></table></figure>
<p>函数figure()用于指定图表的宽度、高度、分辨率和背景色。你需要给figsize指定一个元组，单位为英寸。Python假定屏幕的分辨率为80像素／英寸，可利用形参dip向figure()传递该分辨率，有效的利用屏幕空间。</p>
<p><img src="../images/2017-09-21.1.00.20 1.png" alt="屏幕快照 2017-09-21 下午1.00.20 1"></p>
<h2 id="1-4-使用Pygal模拟掷骰子"><a href="#1-4-使用Pygal模拟掷骰子" class="headerlink" title="1.4 使用Pygal模拟掷骰子"></a>1.4 使用Pygal模拟掷骰子</h2><p>我们将使用Python<strong>可视化包Pygal</strong>来生成<strong>可缩放的矢量图形文件</strong>。对于需要在尺寸不同的屏幕上显示的图表，这很有用，它们会自动缩放。如果你打算以在线方式使用图表，请考虑使用Pygal来生成它们，这样它们在任何设备上显示时都会很美观。</p>
<p>如果掷两个骰子，为确定哪些点数出现的可能性最大，我们将生成一个表示掷骰子结果的数据集，并根据结果绘制出一个图形。</p>
<h3 id="1-4-1-安装Pygal"><a href="#1-4-1-安装Pygal" class="headerlink" title="1.4.1 安装Pygal"></a>1.4.1 安装Pygal</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install --user pygal==<span class="number">1.7</span></span><br></pre></td></tr></table></figure>
<h3 id="1-4-2-Pygal画廊"><a href="#1-4-2-Pygal画廊" class="headerlink" title="1.4.2 Pygal画廊"></a>1.4.2 Pygal画廊</h3><p>要了解使用Pygal可创建什么样的图表，可查看图表类型画廊， <a href="http://www.pygal.org/,单击Documentation，再单击Chart" target="_blank" rel="noopener">http://www.pygal.org/,单击Documentation，再单击Chart</a> types。每个示例都包含源代码。</p>
<h3 id="1-4-3-掷单个骰子"><a href="#1-4-3-掷单个骰子" class="headerlink" title="1.4.3 掷单个骰子"></a>1.4.3 掷单个骰子</h3><ul>
<li><p>创建Die类</p>
<p>下面的类模拟掷一个骰子。die.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Die</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""表示一个骰子的类"""</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,num_sides=<span class="number">6</span>)</span>:</span></span><br><span class="line">        <span class="string">"""骰子默认为6面"""</span></span><br><span class="line">        self.num_sides = num_sides</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">roll</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""返回一个位于1和骰子面数之间的随机值"""</span></span><br><span class="line">        <span class="keyword">return</span> randint(<span class="number">1</span>,self.num_sides)</span><br></pre></td></tr></table></figure>
<p>创建这个类的实例时，骰子默认面为6，如果指定了参数，这个值将用于设置骰子的面数，6面为D6，8面为D8，以此类推。方法roll()使用<strong>函数randint()</strong>来返回一个1和面数<strong>之间的随机数</strong>。这个函数可能返回起始值1，终止值num_sides或者这两个值之间的<strong>任何整数</strong>。（<strong>choice()返回列表列出的随机数）</strong></p>
<p>​</p>
</li>
</ul>
<ul>
<li><p>掷骰子</p>
<p>掷D6骰子，将结果打印出来，并检查结果是否合理。die_visual.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> die <span class="keyword">import</span> Die</span><br><span class="line"><span class="comment">#创建一个D6</span></span><br><span class="line">die = Die()</span><br><span class="line"></span><br><span class="line"><span class="comment">#掷100次骰子，并将结果存储在一个列表中</span></span><br><span class="line">results = []</span><br><span class="line"><span class="keyword">for</span> roll_num <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    result = die.roll()</span><br><span class="line">    results.append(result)</span><br><span class="line"></span><br><span class="line">print(results)</span><br><span class="line"></span><br><span class="line">[<span class="number">6</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>分析结果</p>
<p>分析掷一个D6骰子的结果，我们计算每个点数出现的次数。<strong>range()为1~num_sides</strong></p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#分析结果</span></span><br><span class="line">frequencies = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> range(<span class="number">1</span>,die.num_sides+<span class="number">1</span>):</span><br><span class="line">    frequency = results.count(value)</span><br><span class="line">    frequencies.append(frequency)</span><br><span class="line"></span><br><span class="line">[<span class="number">14</span>, <span class="number">18</span>, <span class="number">23</span>, <span class="number">12</span>, <span class="number">18</span>, <span class="number">15</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>绘制直方图</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygal</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> die <span class="keyword">import</span> Die</span><br><span class="line">--snip--</span><br><span class="line"></span><br><span class="line"><span class="comment">#对结果进行可视化</span></span><br><span class="line">hist = pygal.Bar()</span><br><span class="line"></span><br><span class="line">hist.title = <span class="string">"Results of rolling one D6 100 times."</span></span><br><span class="line">hist.x_labels = [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>,<span class="string">'6'</span>]</span><br><span class="line">hist.x_title = <span class="string">'Result'</span></span><br><span class="line">hist.y_title = <span class="string">'Frequency of Result'</span></span><br><span class="line"></span><br><span class="line">hist.add(<span class="string">'D6'</span>,frequencies)</span><br><span class="line">hist.render_to_file(<span class="string">'die_visual.svg'</span>)</span><br></pre></td></tr></table></figure>
<p>add()将一系列值添加到图表中（向它传递要给添加的值指定的标签，还有一个列表），最后，我们将这个图表渲染为一个SVG文件，这种文件的扩展名必须为.svg。</p>
<p>要查看生成的直方图，使用浏览器，新建标签页，在其中打开文件die _visual.svg，它位于其所在的文件夹内</p>
</li>
</ul>
<p><img src="../images/2017-09-21.2.24.19.png" alt="屏幕快照 2017-09-21 下午2.24.19"></p>
<p>###1.4.4 同时掷两个骰子</p>
<p>同时掷两个骰子时，得到的点数更多，结果分布也不同。每次掷两个骰子时，我们将两个骰子点数相加，并将结果存在results中。(dice_visual.py)(以下是部分代码，其他自行修改)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> roll_num <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    result = die_1.roll() + die_2.roll()</span><br><span class="line">    results.append(result)</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-21.3.06.28.png" alt="屏幕快照 2017-09-21 下午3.06.28"></p>
<h1 id="二-下载数据"><a href="#二-下载数据" class="headerlink" title="二.下载数据"></a>二.下载数据</h1><p>在本章中，将从网上下载数据，并对这些数据进行可视化。两种常见格式存储的数据：<strong>CSV 和 JSON。</strong>我们将使用Python模块csv来处理CSV数据（逗号分隔的值）。然后，使用matplotlib根据下载的数据创建一个图表。这两者我们用来分析天气数据，找出不同地区在同一时间内的最高温和最低温。</p>
<p>使用模块json来访问以JSON格式存储的人口数据，并使用Pygal绘制一幅按国别划分的人口地图。</p>
<h2 id="2-1-CSV文件格式"><a href="#2-1-CSV文件格式" class="headerlink" title="2.1 CSV文件格式"></a>2.1 CSV文件格式</h2><p>要在文本文件中存储数据，最简单的方式是将数据作为一系列<strong>以逗号分隔的值（CSV）</strong>写入文件。这样的文件称为CSV文件。例如：下面是一行CSV格式的天气数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2014</span><span class="number">-1</span><span class="number">-5</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">14</span>,<span class="number">23</span>,<span class="number">34</span>,<span class="number">6</span>,<span class="number">32</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">30</span>,<span class="number">29</span></span><br></pre></td></tr></table></figure>
<p>CSV文件对人来说阅读起来比较麻烦，但程序可轻松地提取并处理其中的值，这有助于加快数据分析过程。</p>
<p>将少量锡特卡的CSV格式的天气预报数据（sitka_weather_07-2014.csv）下载到当前文件夹中。</p>
<h3 id="2-1-1-分析CSV文件头"><a href="#2-1-1-分析CSV文件头" class="headerlink" title="2.1.1 分析CSV文件头"></a>2.1.1 分析CSV文件头</h3><p>csv模块包含在Python标准库中，可用于分析CSV文件中的数据行，让我们能快速提取感兴趣的值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">filename = <span class="string">'sitka_weather_07-2014.csv'</span></span><br><span class="line"><span class="keyword">with</span> open(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = next(reader)</span><br><span class="line">    print(header_row)</span><br><span class="line">    </span><br><span class="line">[<span class="string">'AKDT'</span>, <span class="string">'Max TemperatureF'</span>, <span class="string">'Mean TemperatureF'</span>, <span class="string">'Min TemperatureF'</span>, <span class="string">'Max Dew PointF'</span>, <span class="string">'MeanDew PointF'</span>, <span class="string">'Min DewpointF'</span>, <span class="string">'Max Humidity'</span>, <span class="string">' Mean Humidity'</span>, <span class="string">' Min Humidity'</span>, <span class="string">' Max Sea Level PressureIn'</span>, <span class="string">' Mean Sea Level PressureIn'</span>, <span class="string">' Min Sea Level PressureIn'</span>, <span class="string">' Max VisibilityMiles'</span>, <span class="string">' Mean VisibilityMiles'</span>, <span class="string">' Min VisibilityMiles'</span>, <span class="string">' Max Wind SpeedMPH'</span>, <span class="string">' Mean Wind SpeedMPH'</span>, <span class="string">' Max Gust SpeedMPH'</span>, <span class="string">'PrecipitationIn'</span>, <span class="string">' CloudCover'</span>, <span class="string">' Events'</span>, <span class="string">' WindDirDegrees'</span>]</span><br></pre></td></tr></table></figure>
<p>调用csv.reader()将前面存储的文件对象作为实参传递给它，从而创建一个与该文件相关联的<strong>阅读器reader对象</strong>。将阅读器存储在reader中。<strong>模块cav包含函数next()</strong>,调用它将返回文件中的下一行。</p>
<p>reader处理文件中以逗号分隔的第一行数据，并将每个数据项都作为一个元素存储在列表中。</p>
<h3 id="2-1-2-打印文件头及其位置"><a href="#2-1-2-打印文件头及其位置" class="headerlink" title="2.1.2 打印文件头及其位置"></a>2.1.2 打印文件头及其位置</h3><p>我们将文件头及其位置打印出来。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">filename = <span class="string">'sitka_weather_07-2014.csv'</span></span><br><span class="line"><span class="keyword">with</span> open(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = next(reader)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> index,colum_header <span class="keyword">in</span> enumerate(header_row):</span><br><span class="line">        print(index,colum_header)</span><br><span class="line">        </span><br><span class="line"><span class="number">0</span> AKDT</span><br><span class="line"><span class="number">1</span> Max TemperatureF</span><br><span class="line"><span class="number">2</span> Mean TemperatureF</span><br><span class="line"><span class="number">3</span> Min TemperatureF</span><br><span class="line"><span class="number">4</span> Max Dew PointF</span><br><span class="line">.......</span><br></pre></td></tr></table></figure>
<p>我们对列表调用了enumerate()来获取每个元素的索引及其值。从中可知，日期和最高气温分别存储在第0列和第一列。我们将处理文件中的每行数据，并提取其中索引为0和1的值。</p>
<h3 id="2-1-3-提取并读取数据"><a href="#2-1-3-提取并读取数据" class="headerlink" title="2.1.3 提取并读取数据"></a>2.1.3 提取并读取数据</h3><p>首先读取每天的最高气温。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">filename = <span class="string">'sitka_weather_07-2014.csv'</span></span><br><span class="line"><span class="keyword">with</span> open(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = next(reader)</span><br><span class="line">    </span><br><span class="line">    highs = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        highs.append(row[<span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">    print(highs)</span><br><span class="line"></span><br><span class="line">[<span class="string">'64'</span>, <span class="string">'71'</span>, <span class="string">'64'</span>, <span class="string">'59'</span>, <span class="string">'69'</span>, <span class="string">'62'</span>, <span class="string">'61'</span>, <span class="string">'55'</span>, <span class="string">'57'</span>, <span class="string">'61'</span>, <span class="string">'57'</span>, <span class="string">'59'</span>, <span class="string">'57'</span>, <span class="string">'61'</span>, <span class="string">'64'</span>, <span class="string">'61'</span>, <span class="string">'59'</span>, <span class="string">'63'</span>, <span class="string">'60'</span>, <span class="string">'57'</span>, <span class="string">'69'</span>, <span class="string">'63'</span>, <span class="string">'62'</span>, <span class="string">'59'</span>, <span class="string">'57'</span>, <span class="string">'57'</span>, <span class="string">'61'</span>, <span class="string">'59'</span>, <span class="string">'61'</span>, <span class="string">'61'</span>, <span class="string">'66'</span>]</span><br></pre></td></tr></table></figure>
<p>阅读器对象从其停留的地方继续往下读取csv文件，每次都自动返回当前所处位置的下一行。由于我们之前已经读取了文件头，这个循环将从第二行开始。</p>
<p>我们使用int()将这些字符串转化为数字，让matplotlib能够读取它们。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> highs.append(int(row[<span class="number">1</span>])</span><br><span class="line"> </span><br><span class="line">[<span class="number">64</span>, <span class="number">71</span>, <span class="number">64</span>, <span class="number">59</span>, <span class="number">69</span>, <span class="number">62</span>, <span class="number">61</span>, <span class="number">55</span>, <span class="number">57</span>, <span class="number">61</span>, <span class="number">57</span>, <span class="number">59</span>, <span class="number">57</span>, <span class="number">61</span>, <span class="number">64</span>, <span class="number">61</span>, <span class="number">59</span>, <span class="number">63</span>, <span class="number">60</span>, <span class="number">57</span>, <span class="number">69</span>, <span class="number">63</span>, <span class="number">62</span>, <span class="number">59</span>, <span class="number">57</span>, <span class="number">57</span>, <span class="number">61</span>, <span class="number">59</span>, <span class="number">61</span>, <span class="number">61</span>, <span class="number">66</span>]</span><br></pre></td></tr></table></figure>
<h3 id="2-1-4-绘制气温图表"><a href="#2-1-4-绘制气温图表" class="headerlink" title="2.1.4 绘制气温图表"></a>2.1.4 绘制气温图表</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">file_name = <span class="string">'sitka_weather_07-2014.csv'</span></span><br><span class="line"><span class="keyword">with</span> open(file_name) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = next(reader)</span><br><span class="line">    </span><br><span class="line">    highs = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        highs.append(int(row[<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>,figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(highs,c=<span class="string">'red'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图形的格式</span></span><br><span class="line">plt.title(<span class="string">"Daily high temperature,July 2014"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">''</span>,fontsize=<span class="number">16</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Temperature(F),fontsize=16'</span>)</span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,which=<span class="string">'major'</span>,labelsize=<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-23.12.06.32.png" alt="屏幕快照 2017-09-23 下午12.06.32"></p>
<p>###2.1.5 模块datetime  </p>
<p>在天气数据文件中，第一个日期在第二行。地区该行时，获取的是一个字符串，因为我们需要将字符串“2014-7-1“转换为一个表示相应日期的对象。<strong>可使用模块datetime中的方法strptime()。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">first_date = datetime.strptime(<span class="string">'2014-7-1'</span>,<span class="string">'%Y-%m-%d'</span>)</span><br><span class="line">print(first_date)</span><br><span class="line"></span><br><span class="line"><span class="number">2014</span><span class="number">-07</span><span class="number">-01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span></span><br></pre></td></tr></table></figure>
<p>“%Y-“让Python将字符串中<strong>第一个连字符前面的部分</strong>视为四位的年份。strptime()可接受实参,并根据其解读日期。</p>
<table>
<thead>
<tr>
<th style="text-align:center">实       参</th>
<th style="text-align:center">含         义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%A</td>
<td style="text-align:center">星期的名称，如Monday</td>
</tr>
<tr>
<td style="text-align:center">%B</td>
<td style="text-align:center">月份，如January</td>
</tr>
<tr>
<td style="text-align:center">%m</td>
<td style="text-align:center">用数字表示的月份，（01～12）</td>
</tr>
<tr>
<td style="text-align:center">%d</td>
<td style="text-align:center">用数字表示月份中的一天，（01～31）</td>
</tr>
<tr>
<td style="text-align:center">%Y</td>
<td style="text-align:center">四位的年份，如2015</td>
</tr>
<tr>
<td style="text-align:center">%y</td>
<td style="text-align:center">两位的年份，如15</td>
</tr>
<tr>
<td style="text-align:center">%H</td>
<td style="text-align:center">24小时制的小时数（00～23）</td>
</tr>
<tr>
<td style="text-align:center">%I</td>
<td style="text-align:center">12小时制的小时数（01～12）</td>
</tr>
<tr>
<td style="text-align:center">%p</td>
<td style="text-align:center">am或pm</td>
</tr>
<tr>
<td style="text-align:center">%M</td>
<td style="text-align:center">分钟数（00～59）</td>
</tr>
<tr>
<td style="text-align:center">%S</td>
<td style="text-align:center">秒数（00～59）</td>
</tr>
</tbody>
</table>
<h3 id="2-1-6-在图表中添加日期"><a href="#2-1-6-在图表中添加日期" class="headerlink" title="2.1.6 在图表中添加日期"></a>2.1.6 在图表中添加日期</h3><p>调用fig.autofmt_xdate()来绘制斜的日期标签，以免它们彼此重叠。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">file_name = <span class="string">'sitka_weather_07-2014.csv'</span></span><br><span class="line"><span class="keyword">with</span> open(file_name) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = next(reader)</span><br><span class="line">    </span><br><span class="line">    dates,highs = [],[]</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        current_date = datetime.strptime(row[<span class="number">0</span>],<span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">        dates.append(current_date)</span><br><span class="line">        highs.append(int(row[<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>,figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(dates,highs,c=<span class="string">'red'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图形的格式</span></span><br><span class="line">plt.title(<span class="string">"Daily high temperature,July 2014"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">''</span>,fontsize=<span class="number">16</span>)</span><br><span class="line">fig.autofmt_xdate()</span><br><span class="line">plt.ylabel(<span class="string">'Temperature(F),fontsize=16'</span>)</span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,which=<span class="string">'major'</span>,labelsize=<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-23.2.02.28.png" alt="屏幕快照 2017-09-23 下午2.02.28"></p>
<h3 id="2-1-7-最高与最低气温"><a href="#2-1-7-最高与最低气温" class="headerlink" title="2.1.7 最高与最低气温"></a>2.1.7 最高与最低气温</h3><p>导入”sitka_weather_2014.csv”数据，它记录了sitka地区整年的气温变化，我们观察最高与最低气温。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">xiaimport csv</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">file_name = <span class="string">'sitka_weather_2014.csv'</span></span><br><span class="line"><span class="keyword">with</span> open(file_name) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = next(reader)</span><br><span class="line">    </span><br><span class="line">    dates,highs,lows = [],[],[]</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        current_date = datetime.strptime(row[<span class="number">0</span>],<span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">        dates.append(current_date)</span><br><span class="line">        highs.append(int(row[<span class="number">1</span>]))</span><br><span class="line">        lows.append(int(row[<span class="number">3</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>,figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(dates,highs,c=<span class="string">'red'</span>)</span><br><span class="line">plt.plot(dates,lows,c=<span class="string">'blue'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图形的格式</span></span><br><span class="line">plt.title(<span class="string">"Daily high and low temperature,2014"</span>,fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">''</span>,fontsize=<span class="number">16</span>)</span><br><span class="line">fig.autofmt_xdate()</span><br><span class="line">plt.ylabel(<span class="string">'Temperature(F),fontsize=16'</span>)</span><br><span class="line">plt.tick_params(axis=<span class="string">'both'</span>,which=<span class="string">'major'</span>,labelsize=<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-23.2.28.54.png" alt="屏幕快照 2017-09-23 下午2.28.54"></p>
<p>下面给图表区域着色。使用fill_between()，它接受一个x值与y值系列，并填充两个y值系列之间的空间。<strong>alpha</strong>指定颜色的透明度。Alpha=0表示完全透明，1完全不透明。fill_between()传递了一个x值系列：列表dates，还传递了两个y值系列：highs和lows。facecolor指定了填充区域的颜色。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>,figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(dates,highs,c=<span class="string">'red'</span>,alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.plot(dates,lows,c=<span class="string">'blue'</span>,alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.fill_between(dates,highs,lows,facecolor=<span class="string">'blue'</span>,alpha=<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-23.2.39.56.png" alt="屏幕快照 2017-09-23 下午2.39.56"></p>
<h3 id="2-1-8-错误检查"><a href="#2-1-8-错误检查" class="headerlink" title="2.1.8 错误检查"></a>2.1.8 错误检查</h3><p>数据的缺失可能引发异常，例如我们导入死亡谷的气温数据“death_valley_2014.csv”，并且运行上述代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ValueError: invalid literal <span class="keyword">for</span> int() <span class="keyword">with</span> base <span class="number">10</span>: <span class="string">''</span></span><br></pre></td></tr></table></figure>
<p>结果显示，无法处理文件中的一行数据，因为它无法将空字符串转化为整数。我们打开文件，发现其中没有记录2014-2-16的数据，最高气温的字符串为空。</p>
<p>我们在csv文件中读取值时执行错误检查代码，<strong>对分析数据集时可能出现的异常进行处理。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">--snip--</span><br><span class="line">dates,highs,lows = [],[],[]</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            current_date = datetime.strptime(row[<span class="number">0</span>],<span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">            high = int(row[<span class="number">1</span>])</span><br><span class="line">            low = int(row[<span class="number">3</span>])</span><br><span class="line">        <span class="keyword">except</span> ValueError:</span><br><span class="line">            print(current_date,<span class="string">'missing data'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dates.append(current_date)</span><br><span class="line">            highs.append(high)</span><br><span class="line">            lows.append(low)</span><br><span class="line">--snip--</span><br></pre></td></tr></table></figure>
<p><img src="../images/2017-09-23.3.04.05.png" alt="屏幕快照 2017-09-23 下午3.04.05"></p>
<p>可以看到，有一个数据没有读到。其他正常显示。</p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/09/24/DataView/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/18/MachineLearning-Note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Grace Koo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Grace Koo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/09/18/MachineLearning-Note/" class="post-title-link" itemprop="url">Machine Learning基础</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-09-18 11:08:26" itemprop="dateCreated datePublished" datetime="2017-09-18T11:08:26+08:00">2017-09-18</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-09-19 13:51:28" itemprop="dateModified" datetime="2017-09-19T13:51:28+08:00">2017-09-19</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Machine-Learning/" itemprop="url" rel="index"><span itemprop="name">Machine Learning</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>#Machine In Action</p>
<p>[TOC]</p>
<h1 id="About-Machine-Learning"><a href="#About-Machine-Learning" class="headerlink" title="About Machine Learning"></a>About Machine Learning</h1><p>机器学习可以揭示数据背后的真实含义。</p>
<p><strong>监督学习</strong>需要用户知道目标值，简单的说就是知道数据在找什么。而<strong>无监督学习</strong>则无需用户知道搜寻的目标，只需要从算法程序中得到这些数据的共同特征。</p>
<p>保证算法应用的正确性：</p>
<ol>
<li>确保算法应用可以正确处理简单的数据。</li>
<li>将现实世界中得到的数据格式化为算法可以处理的格式。</li>
<li>将步骤2得到的数据输入到步骤1的算法中，检验算法的运行结果。</li>
</ol>
<p>千万不要忽略前两个步骤而直接跳到步骤3来检验算法处理真实数据的效果。任何复杂系统都是由基础工程构成的，尤其是算法出现问题时，增量地搭建系统可以确保我们及时找到问题出现的位置和原因。</p>
<p>后续根据监督学习和无监督学习进行分类讨论。</p>
<p>在监督学习中，我们只需要给定输入样本，机器就可以从中推演出指定目标变量的可能结果。监督学习相对比较简单，机器只需从输入数据中预测合适的模型，并从中计算出目标变量的结果。</p>
<p>监督学习一般使用两种类型的目标变量：标称型和数值型。<strong>标称型</strong>目标变量的结果只在有限目标集中取值，如真与假，动物分类集合；<strong>数值型</strong>目标变量则可以从无限的数值集合中取值，一般用于回归分析。</p>
<h1 id="Key-Terminology"><a href="#Key-Terminology" class="headerlink" title="Key Terminology"></a>Key Terminology</h1><p>我们使用机器学习的某个算法进行分类结果，首先要做的是<strong>算法训练</strong>，即学习如何<strong>分类</strong>。通常我们为算法输入大量的已分类数据作为算法的<strong>训练集</strong>。训练集是用于训练机器学习算法的数据样本集合。<strong>目标变量</strong>是机器学习算法的预测结果。</p>
<p>在分类算法中目标变量的类型通常是标称型的，而在回归算法中通常是连续型的。</p>
<p>训练样本集必须确定知道目标变量的值，以便机器学习算法可以发现特征和目标变量之间的关系。</p>
<p>当机器学习程序开始运行时，使用训练样本集作为算法的输入，<strong>训练完成</strong>后输入<strong>测试样本</strong>，由程序决定样本属于哪个类别。</p>
<h1 id="Primary-Mission"><a href="#Primary-Mission" class="headerlink" title="Primary Mission"></a>Primary Mission</h1><p>监督学习中的任务：</p>
<p>1.将实例数据划分到合适的<strong>分类</strong>中。</p>
<p>2.<strong>回归</strong>，主要用于预测数值型数据。</p>
<p>无监督学习中的任务：</p>
<p>数据没有类别信息，也不会给定目标值。</p>
<p>1.在无监督学习中，将数据集合分成由类似的对象组成的多个类的过程被称为<strong>聚类</strong>。</p>
<p>2.将寻找描述数据统计值的过程称之为<strong>密度估计</strong>。</p>
<h1 id="Overview-of-Algorithm"><a href="#Overview-of-Algorithm" class="headerlink" title="Overview of Algorithm"></a>Overview of Algorithm</h1><table>
<thead>
<tr>
<th style="text-align:center">监督学习的用途</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">K-近邻算法</td>
<td style="text-align:center">线性回归</td>
</tr>
<tr>
<td style="text-align:center">朴素贝叶斯算法</td>
<td style="text-align:center">局部加权线性回归</td>
</tr>
<tr>
<td style="text-align:center">支持向量机</td>
<td style="text-align:center">Ridge回归</td>
</tr>
<tr>
<td style="text-align:center">决策树</td>
<td style="text-align:center">Lasso最小回归系数估计</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">无监督学习的用途</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">K-均值</td>
<td style="text-align:center">最大期望算法</td>
</tr>
<tr>
<td style="text-align:center">DBSCAN</td>
<td style="text-align:center">Parzen窗设计</td>
</tr>
</tbody>
</table>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/09/18/MachineLearning-Note/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/01/Python-Note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Grace Koo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Grace Koo's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/09/01/Python-Note/" class="post-title-link" itemprop="url">Python笔记</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-09-01 07:45:01" itemprop="dateCreated datePublished" datetime="2017-09-01T07:45:01+08:00">2017-09-01</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2017-09-19 11:15:06" itemprop="dateModified" datetime="2017-09-19T11:15:06+08:00">2017-09-19</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><p>[TOC]</p>
<h1 id="第一章-Python的安装、IPython的使用"><a href="#第一章-Python的安装、IPython的使用" class="headerlink" title="第一章 Python的安装、IPython的使用"></a>第一章 Python的安装、IPython的使用</h1><ul>
<li>Python的安装参见<a href="https://stringpiggy.hpd.io/mac-osx-python3-dual-install/" target="_blank" rel="noopener">https://stringpiggy.hpd.io/mac-osx-python3-dual-install/</a> ，或者《Python编程：从入门到实战》一书中也有详细的记载。</li>
<li>利用IPython可以代替传统python开发的文本编辑器，灵活的改变所写代码，快捷的生成结果代码。IPython Notebook目前已经成为用Python做教学、计算、科研的一个重要工具，很多示例都是用.ipynb文件。</li>
</ul>
<p>​        安装Ipython有两种方式，第一种是通过pip安装。第二种是安装Anaconda从而获得iPython （这个选择比较适合新手，推荐<a href="http://jupyter.readthedocs.io/en/latest/install.html#new-to-python-and-jupyter" target="_blank" rel="noopener">官网教程</a>一键搞定），下面主要介绍使用pip命令来安装。</p>
<ol>
<li>iPython是由<a href="http://ipython.org/ipython-doc/stable/install/install.html" target="_blank" rel="noopener">很多模块</a>组成的, 为了不漏装任何组件，我用了这个命令来安装所有组件：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pip install ipython[all]</span><br></pre></td></tr></table></figure>
<ol>
<li>安装成功后通过这命令来运行Notebook</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ipython notebook</span><br></pre></td></tr></table></figure>
<p>之后有可能会弹出这个错误(你如果选择了用Anaconda的方式来安装也会碰到这个错误)：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ValueError, <span class="string">'unknown locale: %s'</span> % localename</span><br></pre></td></tr></table></figure>
<p>在<a href="http://stackoverflow.com/questions/19961239/pelican-3-3-pelican-quickstart-error-valueerror-unknown-locale-utf-8" target="_blank" rel="noopener">StackOverflow上已经有人提出了解决方案</a>，在命令行里找到.bash_profile 然后添加下面两行代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LC_ALL=en_US.UTF<span class="number">-8</span></span><br><span class="line">export LANG=en_US.UTF<span class="number">-8</span></span><br></pre></td></tr></table></figure>
<p>然后别忘了重新载入.bash_profile让新添加的代码生效（注意两个点之间的空格）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ . .bash_profile</span><br></pre></td></tr></table></figure>
<p>之后再运行命令”ipython notebook “就可以在浏览器里看到iPython Notebook的界面了。</p>
<p>iPython Notebook的工作原理是在本地启动一个服务器，你通过localhost:8888/tree 这个地址就可以连接到这个服务器上与之通信。从而实现在浏览器里写代码，传给本地服务器执行，然后本地服务器传回结果并在网页上呈现这个循环。</p>
<p>每次使用完Notebook，只关闭网页本身是不够的。<strong>需要在你启动Notebook的那个Terminal里输 Ctrl + c 然后确认，才能把服务器关闭。</strong>官网具体链接为：<a href="http://IPython.org/install.html" target="_blank" rel="noopener">http://IPython.org/install.html</a></p>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2017/09/01/Python-Note/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Grace Koo</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">categories</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
        </div>
      </div>

      

      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Grace Koo</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.2.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  
  













  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>




  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.2.0"></script>



  

  <script src="/js/next-boot.js?v=7.2.0"></script>

  

  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  


  

</body>
</html>
